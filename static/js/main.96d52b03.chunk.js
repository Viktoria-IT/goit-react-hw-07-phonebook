(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{44:function(t,e,c){},64:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c(1),r=c.n(a),o=c(12),i=c.n(o),s=c(6),u=(c(44),c(7)),l=c.n(u);var j=function(t){var e=t.title,c=t.children;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("section",{className:l.a.decor,children:[Object(n.jsx)("div",{className:l.a.leftDecor}),Object(n.jsx)("div",{className:l.a.rightDecor}),Object(n.jsx)("div",{className:l.a.circleDecor}),Object(n.jsxs)("div",{className:l.a.innerDecor,children:[Object(n.jsx)("h3",{className:l.a.titleDecor,children:e}),c]})]})})},b=c(21),f=c(20),O=c.n(f),d=c(32),h=c(11),p=c.n(h),m=c(2),x=Object(m.b)("contacts/fetchContactRequest"),_=Object(m.b)("contacts/fetchContactSuccess"),v=Object(m.b)("contacts/fetchContactError"),C=Object(m.b)("contacts/addContactRequest"),g=Object(m.b)("contacts/addContactSuccess"),D=Object(m.b)("contacts/addContactError"),L=Object(m.b)("contacts/deleteContactRequest"),y=Object(m.b)("contacts/deleteContactSuccess"),N=Object(m.b)("contacts/deleteContactError"),w=Object(m.b)("contacts/filter"),S=Object(m.b)("contacts/uniqName");p.a.defaults.baseURL="http://localhost:4040";var k=c(13),E=function(t){return t.contacts.items},R=function(t){return t.contacts.filter},F=Object(k.a)([E,R],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),q=function(t){return t.contacts.loading},z=function(t){return t.contacts.error};var I=function(){var t=Object(a.useState)(""),e=Object(b.a)(t,2),c=e[0],r=e[1],o=Object(a.useState)(""),i=Object(b.a)(o,2),u=i[0],l=i[1],j=Object(s.c)(E),f=Object(s.b)(),O=function(t,e){return f(function(t,e){return function(c){var n={name:t,tel:e};c(C()),p.a.post("/contacts",n).then((function(t){return c(g(t.data))})).catch((function(t){return c(D(t))}))}}(t,e))},d=function(t){return!!j.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))?(alert("".concat(t," is already in contacts")),h(),!1):t&&u?f(S(t)):(alert("Empty field"),!1)},h=function(){r(""),l("")};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),d(c)){var e=function(t){var e=t.split("");return"+38 (".concat(e[0]).concat(e[1]).concat(e[2],") ").concat(e[3]).concat(e[4]).concat(e[5],"-").concat(e[6]).concat(e[7],"-").concat(e[8]).concat(e[9])}(u);O(c,e),h()}},autoComplete:"off",children:[Object(n.jsx)("input",{type:"text",name:"name",value:c,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",onChange:function(t){r(t.target.value)}}),Object(n.jsx)("input",{type:"tel",name:"tel",value:u,pattern:"[0-9]{10}",placeholder:"067 123 45 67",minLength:"10",maxLength:"10",onChange:function(t){l(t.target.value)}}),Object(n.jsx)("input",{type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})]})})},J=c(8),K=c.n(J);var A=function(){var t=Object(s.b)();Object(a.useEffect)((function(){t(function(){var t=Object(d.a)(O.a.mark((function t(e){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(x()),t.prev=1,t.next=4,p.a.get("/contacts");case 4:c=t.sent,e(_(c.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(v(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}),[t]);var e=Object(s.c)(F),c=Object(s.c)(q),r=Object(s.c)(z),o=function(e){return t(function(t){return function(e){e(L(t)),p.a.delete("/contacts/".concat(t)).then((function(){return e(y(t))})).catch((function(t){return e(N(t))}))}}(e))};return Object(n.jsxs)(n.Fragment,{children:[!c&&!r&&e.length<1&&Object(n.jsx)("p",{className:K.a.text,children:"\u041d\u0435\u0442 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"}),Object(n.jsx)("ul",{className:K.a.contactsList,children:e.length>0&&e.map((function(t){var e=t.id,c=t.name,a=t.tel;return Object(n.jsxs)("li",{className:K.a.contact,children:[Object(n.jsx)("span",{className:K.a.name,children:c}),Object(n.jsx)("span",{className:K.a.phone,children:Object(n.jsx)("a",{href:"tel:+".concat(a.toString().replace(/[^\d;]/g,"")),children:a})}),Object(n.jsx)("button",{className:K.a.btnDeleteContact,type:"button",onClick:function(){return o(e)},children:"x"})]},e)}))}),c&&Object(n.jsx)("h3",{children:" \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ..."}),r&&Object(n.jsx)("h3",{children:r.message})]})};var P=function(){var t=Object(s.c)(R),e=Object(s.b)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("input",{type:"text",name:"filter",value:t,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 ...",onChange:function(t){return e(w(t.target.value))},autoComplete:"off"})})};var U,B,G,M=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j,{title:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u0430\u044f \u043a\u043d\u0438\u0433\u0430",children:Object(n.jsx)(I,{})}),Object(n.jsxs)(j,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432",children:[Object(n.jsx)(P,{}),Object(n.jsx)(A,{})]})]})},T=c(15),V=c(3),Y=c(4),H=Object(m.c)([],(U={},Object(V.a)(U,_,(function(t,e){return e.payload})),Object(V.a)(U,g,(function(t,e){var c=e.payload;return[].concat(Object(T.a)(t),[c])})),Object(V.a)(U,y,(function(t,e){var c=e.payload;return t.filter((function(t){return t.id!==c}))})),Object(V.a)(U,S,(function(t){return t})),U)),Q=Object(m.c)("",Object(V.a)({},w,(function(t,e){return e.payload}))),W=Object(m.c)(!1,(B={},Object(V.a)(B,x,(function(){return!0})),Object(V.a)(B,_,(function(){return!1})),Object(V.a)(B,v,(function(){return!1})),Object(V.a)(B,C,(function(){return!0})),Object(V.a)(B,g,(function(){return!1})),Object(V.a)(B,D,(function(){return!1})),Object(V.a)(B,y,(function(){return!1})),Object(V.a)(B,N,(function(){return!1})),B)),X=Object(m.c)(null,(G={},Object(V.a)(G,x,(function(){return null})),Object(V.a)(G,v,(function(t,e){return e.payload})),Object(V.a)(G,C,(function(){return null})),Object(V.a)(G,D,(function(t,e){return e.payload})),Object(V.a)(G,L,(function(){return null})),Object(V.a)(G,N,(function(t,e){return e.payload})),G)),Z=Object(Y.c)({items:H,filter:Q,loading:W,error:X}),$=c(33),tt=c.n($),et=c(9),ct=[].concat(Object(T.a)(Object(m.d)({serializableCheck:{ignoredActions:[et.a,et.f,et.b,et.c,et.d,et.e]}})),[tt.a]),nt=Object(m.a)({reducer:{contacts:Z},devTools:!1,middleware:ct});i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(s.a,{store:nt,children:Object(n.jsx)(M,{})})}),document.getElementById("root"))},7:function(t,e,c){t.exports={decor:"DecorContainer_decor__3h0Ya",leftDecor:"DecorContainer_leftDecor__1LKbz",rightDecor:"DecorContainer_rightDecor__3Uu-f",circleDecor:"DecorContainer_circleDecor__3IPKR",innerDecor:"DecorContainer_innerDecor__2Ps1A",titleDecor:"DecorContainer_titleDecor__2I01w"}},8:function(t,e,c){t.exports={text:"ContactsList_text__1g3lS",contactsList:"ContactsList_contactsList__74eVG",contact:"ContactsList_contact__2_EKb",name:"ContactsList_name__29JLm",phone:"ContactsList_phone__nxmzL",btnDeleteContact:"ContactsList_btnDeleteContact__2RnEl"}}},[[64,1,2]]]);
//# sourceMappingURL=main.96d52b03.chunk.js.map